<!DOCTYPE html>
<html class="no-js" lang="">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <title></title>
    <meta name="description" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="apple-touch-icon" href="apple-touch-icon.png" />

    <link rel="stylesheet" href="css/bootstrap.min.css" />
    <style>
      body {
        padding-top: 50px;
        padding-bottom: 20px;
      }
    </style>
    <style>
      .map-container-2 {
        overflow: hidden;
        padding-bottom: 56.25%;
        position: relative;
        height: 0;
      }

      .map-container-2 iframe {
        left: 0;
        top: 0;
        height: 100%;
        width: 100%;
        position: absolute;
      }
    </style>
    <link rel="stylesheet" href="css/bootstrap-theme.min.css" />
    <link rel="stylesheet" href="css/main.css" />

    <script src="js/vendor/modernizr-2.8.3-respond-1.4.2.min.js"></script>
  </head>

  <body>
    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button
            type="button"
            class="navbar-toggle collapsed"
            data-toggle="collapse"
            data-target="#navbar"
            aria-expanded="false"
            aria-controls="navbar"
          >
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#">BYTE SEVEN</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <form class="navbar-form navbar-right" role="form">
            <div class="form-group">
              <input type="text" placeholder="Email" class="form-control" />
            </div>
            <div class="form-group">
              <input
                type="password"
                placeholder="Password"
                class="form-control"
              />
            </div>
            <button type="submit" class="btn btn-success">Sign in</button>
          </form>
        </div>
        <!--/.navbar-collapse -->
      </div>
    </nav>

    <br />
    <br />
    <div class="container">
      <!-- Example row of columns -->

      <div class="row">
        <div class="col-md-6">
          <div
            id="map-container-google-2"
            class="z-depth-1-half map-container"
            style="height: 600px; width: 100%"
          ></div>
        </div>

        <!-- Form Register -->
        <!-- <div class="col-md-4">
          <h2>Registrar Cuenca</h2>
          <form id="registro-form" method="POST" action="registro.php">
            <div class="row">
              <div class="col-md-6">
                <div class="form-group">
                  <label for="id">ID:</label>
                  <input
                    type="text"
                    class="form-control"
                    id="id"
                    name="id"
                    required
                  />
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-group">
                  <label for="cuenca">Cuenca:</label>
                  <input
                    type="text"
                    class="form-control"
                    id="cuenca"
                    name="cuenca"
                    required
                  />
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-md-6">
                <div class="form-group">
                  <label for="descripcion">Descripción:</label>
                  <textarea
                    class="form-control"
                    id="descripcion"
                    name="descripcion"
                    required
                  ></textarea>
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-group">
                  <label for="videoUrl">URL del Video:</label>
                  <input
                    type="text"
                    class="form-control"
                    id="videoUrl"
                    name="videoUrl"
                    required
                  />
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-md-6">
                <div class="form-group">
                  <label for="latitud">Latitud:</label>
                  <input
                    type="text"
                    class="form-control"
                    id="latitud"
                    name="latitud"
                    required
                  />
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-group">
                  <label for="longitud">Longitud:</label>
                  <input
                    type="text"
                    class="form-control"
                    id="longitud"
                    name="longitud"
                    required
                  />
                </div>
              </div>
            </div>
            <button type="submit" class="btn btn-primary">Registrar</button>
          </form>
        </div> -->

        <!-- Video -->
        <div id="video-container" class="col-md-6"></div>
      </div>
      </div>


        </div>
      </div>

      <hr />

      <footer>
        <p>&copy; Company 2022</p>
      </footer>
    </div>
    <!-- /container -->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script>
      window.jQuery ||
        document.write(
          '<script src="js/vendor/jquery-1.11.2.min.js"><\/script>'
        );
    </script>

    <script src="js/vendor/bootstrap.min.js"></script>

    <script src="js/main.js"></script>

    <!-- Google Analytics: change UA-XXXXX-X to be your site's ID. -->
    <script>
      (function (b, o, i, l, e, r) {
        b.GoogleAnalyticsObject = l;
        b[l] ||
          (b[l] = function () {
            (b[l].q = b[l].q || []).push(arguments);
          });
        b[l].l = +new Date();
        e = o.createElement(i);
        r = o.getElementsByTagName(i)[0];
        e.src = "//www.google-analytics.com/analytics.js";
        r.parentNode.insertBefore(e, r);
      })(window, document, "script", "ga");
      ga("create", "UA-XXXXX-X", "auto");
      ga("send", "pageview");
    </script>
    <script>
      var customLabel = {
        restaurant: {
          label: "R",
        },
        bar: {
          label: "B",
        },
      };

      function initMap() {
        var map = new google.maps.Map(
          document.getElementById("map-container-google-2"),
          {
            /* center: new google.maps.LatLng(16.0128538, -90.4508264), */
            center: new google.maps.LatLng(2.3965122, -76.7464101),
            zoom: 7,
            heading: 90,
            tilt: 45,
            mapTypeId: "hybrid", // Cambiar a "hybrid" para mostrar la vista híbrida
          }
        );

        // Agregar la superposición personalizada
        /* var customOverlay = new google.maps.GroundOverlay(
          "URL_DEL_MAPA_TOPOGRAFICO", // Reemplaza con la URL de tu mapa topográfico
          map.getBounds()
        );
        customOverlay.setMap(map); */

        var infoWindow = new google.maps.InfoWindow();

        downloadUrl("http://localhost/maps/xml.php", function (data) {
          var xml = data.responseXML;
          var markers = xml.documentElement.getElementsByTagName("marker");
          Array.prototype.forEach.call(markers, function (markerElem) {
            var idmapa = markerElem.getAttribute("idmapa");
            var cuenca = markerElem.getAttribute("cuenca");
            var videoUrl = markerElem.getAttribute("videoUrl");
            var descripcion = markerElem.getAttribute("descripcion");

            var point = new google.maps.LatLng(
              parseFloat(markerElem.getAttribute("lat")),
              parseFloat(markerElem.getAttribute("lng"))
            );

            var contentString =
              '<div id="content">' +
              '<div id="siteNotice">' +
              "</div>" +
              "<center>" +
              '<h3 id="firstHeading" class="firstHeading"> N°: ' +
              idmapa +
              "</h3>" +
              "</center>" +
              "<br>" +
              '<div id="bodyContent">' +
              "<br>" +
              "<p><b>" +
              cuenca +
              "</b></p>" +
              "<button onclick=\"openYouTubeVideo('" +
              videoUrl +
              '\')" style="background-color: #007bff; color: #fff; padding: 10px 20px; border: none; cursor: pointer;">Ver video</button>' +
              "</div>" +
              "</div>";

            var marker = new google.maps.Marker({
              map: map,
              position: point,
              //icon: image
            });

            marker.addListener("click", function () {
              infoWindow.setContent(contentString);
              infoWindow.open(map, marker);
            });
          });
        });

        // Una matriz con las coordenadas de los límites de Bucaramanga, extraídas manualmente de la base de datos GADM
      }

      function downloadUrl(url, callback) {
        var request = window.ActiveXObject
          ? new ActiveXObject("Microsoft.XMLHTTP")
          : new XMLHttpRequest();
        request.onreadystatechange = function () {
          if (request.readyState == 4) {
            request.onreadystatechange = doNothing;
            callback(request, request.status);
          }
        };
        request.open("GET", url, true);
        request.send(null);
      }

      function openYouTubeVideo(videoUrl) {
        var videoPlayer = document.createElement("iframe");
        videoPlayer.width = "100%";
        videoPlayer.height = "315";
        videoPlayer.src = videoUrl;
        videoPlayer.frameBorder = "0";
        videoPlayer.allowFullscreen = true;

        // Encuentra el elemento donde deseas agregar el reproductor de video
        var videoContainer = document.getElementById("video-container");

        // Limpia cualquier contenido anterior dentro del contenedor
        videoContainer.innerHTML = "";

        // Agrega el reproductor de video al contenedor
        videoContainer.appendChild(videoPlayer);
      }

      function doNothing() {}
    </script>
    <script
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAet6BC3A-TE6toXKEFBxLcFYscszuNKFw&callback=initMap"
      defer
    ></script>
  </body>
</html>
